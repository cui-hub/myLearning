<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    function findKInArr(arr,k){
      function findFirstK(arr,start,end){
        let mid = (start + end)>>1;
        while(start != mid){
          if(arr[mid] < k){
            start = mid;
            mid = (start + end)>>1;
          }else if(arr[mid] > k || arr[mid-1] == arr[mid]){
            end = mid;
            mid = (start + end)>>1;
          }else{
            return mid;
          }
        }
        if(arr[mid] != k){
          return 'No Target Found !'
        }else{
          return mid;
        }
      }
      let first = findFirstK(arr,0,arr.length-1);

      function findLastK(arr,start,end){
        let mid = (start + end)>>1;
        while(start != mid){
          if(arr[mid] > k){
            end = mid;
            mid = (start + end)>>1;
          }else if(arr[mid] < k || arr[mid+1] == arr[mid]){
            start = mid;
            mid = (start + end)>>1;
          }else{
            return mid;
          }
        }
        if(arr[mid + 1] != k){
          return 'No Target Found !'
        }else{
          return mid+1;
        }
      }
      let last = findLastK(arr,0,arr.length-1);
      if(isNaN(first)){
        return 'No Target Found !'
      }else{
        return last - first + 1;
      }
    }

    console.log(findKInArr([1,4,5,6,7],3))


    // 题目2：查找数组中任意一个数值和下标相等的元素
    function getNumberSameIndex(arr){
      let len = arr.length;
      let start = 0;
      let end = len-1;
      let mid = (start + end)>>1;
      while(start < end){
        if(arr[mid] > mid){
          end = mid - 1;
        }else if(arr[mid] < mid){
          start = mid + 1;
        }else{
          return arr[mid];
        }
        mid = (start + end)>>1;
      }
      if(arr[start] == start){
        return arr[start];
      }else{
        return 'None';
      }
    }

    console.log(getNumberSameIndex([-3,-1,1,2,3,5]))
  </script>
</body>
</html>